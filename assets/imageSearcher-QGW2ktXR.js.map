{"version":3,"file":"imageSearcher-QGW2ktXR.js","sources":["../../src/imageSearcher.js"],"sourcesContent":["import iziToast from \"izitoast\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\nconst gallery = document.querySelector(\".gallery\");\r\nconst form = document.querySelector(\".search-form\");\r\nconst loader = document.querySelector(\".loader\")\r\nconst input = document.querySelector(\"input[name='searchQuery']\");\r\nlet lightbox = null;\r\nform.addEventListener(\"submit\", (event) => {\r\n    event.preventDefault()\r\n    const userInput = input.value\r\n    userSearch(userInput)\r\n} )\r\n\r\nwindow.rejectAlert = function(message) {\r\n  iziToast.show({\r\n    message: message,\r\n    position: 'topRight',\r\n    messageColor: \"#ffffff\",\r\n    backgroundColor: \"#d15858\",\r\n  });\r\n}\r\n\r\nconst userSearch = (userInput) => {\r\n    gallery.innerHTML = \"\"\r\n\r\n    const trimmedInput = userInput.trim();\r\n\r\n    if (trimmedInput === \"\") {\r\n        return rejectAlert(\"Sorry, there are no images matching your search query. Please try again!\")\r\n    }\r\n    loader.style.display = 'block'\r\n\r\n    const apiKey = \"50495832-52e00f4195b6d2cb1ef4fba52\"\r\n    const userSearchUrl = `https://pixabay.com/api/?key=${apiKey}&q=${trimmedInput}&image_type=photo&orientation=horizontal&safesearch=true`\r\n    const options = {\r\n        method: \"GET\"\r\n    };\r\n    fetch(userSearchUrl, options) \r\n        .then(res => {\r\n            loader.style.display = 'none'\r\n            if (!res.ok) {\r\n                throw new Error(res.status)\r\n            }\r\n            return res.json();\r\n        })\r\n        .then (res => {\r\n            const images = res.hits;\r\n\r\n            if (images.length === 0) { \r\n                return rejectAlert(\"Sorry, there are no images matching your search query. Please try again!\")\r\n            }\r\n            // const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = firstImage\r\n             renderGallery(images);\r\n        })\r\n        .catch(console.error)\r\n}\r\n// const createGallery = (res) => {\r\n//   const imgs = images.map(renderImage);\r\n//   container.append(...imgs);\r\n// };\r\nconst renderImage = (image) => {\r\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\r\n  const li = document.createElement('li');\r\n  li.classList.add('gallery-item');\r\n\r\n  const link = document.createElement('a');\r\n  link.classList.add('gallery-link');\r\n  link.href = largeImageURL;\r\n\r\n  const img = document.createElement('img');\r\n  img.classList.add('gallery-image');\r\n  img.src = webformatURL;\r\n  img.alt = tags.split(',')[0];\r\n\r\n    const statsBox = document.createElement('div');\r\n    statsBox.classList.add(\"imageStats\")\r\n\r\n    const likesBox = document.createElement('div');\r\n    likesBox.classList.add(\"stat-box\");\r\n\r\n    const likesTitle = document.createElement('span');\r\n    likesTitle.classList.add(\"stat-name\");\r\n    likesTitle.textContent = \"Likes\"\r\n\r\n    const likesNum = document.createElement('span')\r\n    likesNum.classList.add(\"stat-amount\")\r\n    likesNum.textContent = likes\r\n\r\n        const viewsBox = document.createElement('div');\r\n    viewsBox.classList.add(\"stat-box\");\r\n\r\n    const viewsTitle = document.createElement('span');\r\n    viewsTitle.classList.add(\"stat-name\");\r\n    viewsTitle.textContent = \"Views\"\r\n\r\n    const viewsNum = document.createElement('span')\r\n    viewsNum.classList.add(\"stat-amount\")\r\n    viewsNum.textContent = views\r\n\r\n        const commentsBox = document.createElement('div');\r\n    commentsBox.classList.add(\"stat-box\");\r\n\r\n    const commentsTitle = document.createElement('span');\r\n    commentsTitle.classList.add(\"stat-name\");\r\n    commentsTitle.textContent = \"Comments\"\r\n\r\n    const commentsNum = document.createElement('span')\r\n    commentsNum.classList.add(\"stat-amount\")\r\n    commentsNum.textContent = comments\r\n\r\n        const downloadsBox = document.createElement('div');\r\n    downloadsBox.classList.add(\"stat-box\");\r\n\r\n    const downloadsTitle = document.createElement('span');\r\n    downloadsTitle.classList.add(\"stat-name\");\r\n    downloadsTitle.textContent = \"Downloads\"\r\n\r\n    const downloadsNum = document.createElement('span')\r\n    downloadsNum.classList.add(\"stat-amount\")\r\n    downloadsNum.textContent = downloads\r\n  \r\n    likesBox.append(likesTitle, likesNum); \r\n    statsBox.appendChild(likesBox);\r\n\r\n    viewsBox.append(viewsTitle, viewsNum); \r\n    statsBox.appendChild(viewsBox);\r\n\r\n    commentsBox.append(commentsTitle, commentsNum); \r\n    statsBox.appendChild(commentsBox);\r\n\r\n    downloadsBox.append(downloadsTitle, downloadsNum); \r\n    statsBox.appendChild(downloadsBox);\r\n\r\n\r\n    link.appendChild(img);\r\n    li.append(link, statsBox);\r\n\r\n    return li;\r\n};\r\n\r\nconst renderGallery = (images) => {\r\n  const items = images.map(renderImage); \r\n  gallery.append(...items);\r\n\r\n  if (lightbox) {\r\n    lightbox.refresh();\r\n  } else {\r\n    lightbox = new SimpleLightbox('.gallery a', {\r\n      captionsData: 'alt',\r\n      captionDelay: 250,\r\n    });\r\n  }\r\n};"],"names":["gallery","form","loader","input","lightbox","event","userInput","userSearch","message","iziToast","trimmedInput","userSearchUrl","res","images","renderGallery","renderImage","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","li","link","img","statsBox","likesBox","likesTitle","likesNum","viewsBox","viewsTitle","viewsNum","commentsBox","commentsTitle","commentsNum","downloadsBox","downloadsTitle","downloadsNum","items","SimpleLightbox"],"mappings":"gDAIA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,2BAA2B,EAChE,IAAIC,EAAW,KACfH,EAAK,iBAAiB,SAAWI,GAAU,CACvCA,EAAM,eAAgB,EACtB,MAAMC,EAAYH,EAAM,MACxBI,EAAWD,CAAS,CACxB,CAAG,EAEH,OAAO,YAAc,SAASE,EAAS,CACrCC,EAAS,KAAK,CACZ,QAASD,EACT,SAAU,WACV,aAAc,UACd,gBAAiB,SACrB,CAAG,CACH,EAEA,MAAMD,EAAcD,GAAc,CAC9BN,EAAQ,UAAY,GAEpB,MAAMU,EAAeJ,EAAU,OAE/B,GAAII,IAAiB,GACjB,OAAO,YAAY,0EAA0E,EAEjGR,EAAO,MAAM,QAAU,QAGvB,MAAMS,EAAgB,qEAA4CD,CAAY,2DAI9E,MAAMC,EAHU,CACZ,OAAQ,KAChB,CACgC,EACvB,KAAKC,GAAO,CAET,GADAV,EAAO,MAAM,QAAU,OACnB,CAACU,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACvB,CAAS,EACA,KAAMA,GAAO,CACV,MAAMC,EAASD,EAAI,KAEnB,GAAIC,EAAO,SAAW,EAClB,OAAO,YAAY,0EAA0E,EAGhGC,EAAcD,CAAM,CACjC,CAAS,EACA,MAAM,QAAQ,KAAK,CAC5B,EAKME,EAAeC,GAAU,CAC3B,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EAC7EQ,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,cAAc,EAE/B,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAU,IAAI,cAAc,EACjCA,EAAK,KAAOP,EAEZ,MAAMQ,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,eAAe,EACjCA,EAAI,IAAMT,EACVS,EAAI,IAAMP,EAAK,MAAM,GAAG,EAAE,CAAC,EAEzB,MAAMQ,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,YAAY,EAEnC,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,UAAU,EAEjC,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,UAAU,IAAI,WAAW,EACpCA,EAAW,YAAc,QAEzB,MAAMC,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,UAAU,IAAI,aAAa,EACpCA,EAAS,YAAcV,EAEnB,MAAMW,EAAW,SAAS,cAAc,KAAK,EACjDA,EAAS,UAAU,IAAI,UAAU,EAEjC,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,UAAU,IAAI,WAAW,EACpCA,EAAW,YAAc,QAEzB,MAAMC,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,UAAU,IAAI,aAAa,EACpCA,EAAS,YAAcZ,EAEnB,MAAMa,EAAc,SAAS,cAAc,KAAK,EACpDA,EAAY,UAAU,IAAI,UAAU,EAEpC,MAAMC,EAAgB,SAAS,cAAc,MAAM,EACnDA,EAAc,UAAU,IAAI,WAAW,EACvCA,EAAc,YAAc,WAE5B,MAAMC,EAAc,SAAS,cAAc,MAAM,EACjDA,EAAY,UAAU,IAAI,aAAa,EACvCA,EAAY,YAAcd,EAEtB,MAAMe,EAAe,SAAS,cAAc,KAAK,EACrDA,EAAa,UAAU,IAAI,UAAU,EAErC,MAAMC,EAAiB,SAAS,cAAc,MAAM,EACpDA,EAAe,UAAU,IAAI,WAAW,EACxCA,EAAe,YAAc,YAE7B,MAAMC,EAAe,SAAS,cAAc,MAAM,EAClD,OAAAA,EAAa,UAAU,IAAI,aAAa,EACxCA,EAAa,YAAchB,EAE3BK,EAAS,OAAOC,EAAYC,CAAQ,EACpCH,EAAS,YAAYC,CAAQ,EAE7BG,EAAS,OAAOC,EAAYC,CAAQ,EACpCN,EAAS,YAAYI,CAAQ,EAE7BG,EAAY,OAAOC,EAAeC,CAAW,EAC7CT,EAAS,YAAYO,CAAW,EAEhCG,EAAa,OAAOC,EAAgBC,CAAY,EAChDZ,EAAS,YAAYU,CAAY,EAGjCZ,EAAK,YAAYC,CAAG,EACpBF,EAAG,OAAOC,EAAME,CAAQ,EAEjBH,CACX,EAEMV,EAAiBD,GAAW,CAChC,MAAM2B,EAAQ3B,EAAO,IAAIE,CAAW,EACpCf,EAAQ,OAAO,GAAGwC,CAAK,EAEnBpC,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIqC,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAEL"}