{"version":3,"file":"imageSearcher-Bd-D_JjW.js","sources":["../../src/imageSearcher.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst gallery = document.querySelector(\".gallery\");\nconst form = document.querySelector(\".search-form\");\nconst loader = document.querySelector(\".loader\")\nconst input = document.querySelector(\"input[name='searchQuery']\");\nlet lightbox = null;\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault()\n    const userInput = input.value\n    userSearch(userInput)\n} )\n\nwindow.rejectAlert = function(message) {\n  iziToast.show({\n    message: message,\n    position: 'topRight',\n    messageColor: \"#ffffff\",\n    backgroundColor: \"#d15858\",\n  });\n}\n\nconst userSearch = (userInput) => {\n    gallery.innerHTML = \"\"\n\n    const trimmedInput = userInput.trim();\n\n    if (trimmedInput === \"\") {\n        return rejectAlert(\"Sorry, there are no images matching your search query. Please try again!\")\n    }\n    loader.style.display = 'block'\n\n    const apiKey = \"50495832-52e00f4195b6d2cb1ef4fba52\"\n    const userSearchUrl = `https://pixabay.com/api/?key=${apiKey}&q=${trimmedInput}&image_type=photo&orientation=horizontal&safesearch=true`\n    const options = {\n        method: \"GET\"\n    };\n    fetch(userSearchUrl, options) \n        .then(res => {\n            loader.style.display = 'none'\n            if (!res.ok) {\n                throw new Error(res.status)\n            }\n            return res.json();\n        })\n        .then (res => {\n            const images = res.hits;\n\n            if (images.length === 0) { \n                return rejectAlert(\"Sorry, there are no images matching your search query. Please try again!\")\n            }\n            // const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = firstImage\n             renderGallery(images);\n        })\n        .catch(console.error)\n}\n// const createGallery = (res) => {\n//   const imgs = images.map(renderImage);\n//   container.append(...imgs);\n// };\nconst renderImage = (image) => {\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n  const li = document.createElement('li');\n  li.classList.add('gallery-item');\n\n  const link = document.createElement('a');\n  link.classList.add('gallery-link');\n  link.href = largeImageURL;\n\n  const img = document.createElement('img');\n  img.classList.add('gallery-image');\n  img.src = webformatURL;\n  img.alt = tags.split(',')[0];\n\n    const statsBox = document.createElement('div');\n    statsBox.classList.add(\"imageStats\")\n\n    const likesBox = document.createElement('div');\n    likesBox.classList.add(\"stat-box\");\n\n    const likesTitle = document.createElement('span');\n    likesTitle.classList.add(\"stat-name\");\n    likesTitle.textContent = \"Likes\"\n\n    const likesNum = document.createElement('span')\n    likesNum.classList.add(\"stat-amount\")\n    likesNum.textContent = likes\n\n        const viewsBox = document.createElement('div');\n    viewsBox.classList.add(\"stat-box\");\n\n    const viewsTitle = document.createElement('span');\n    viewsTitle.classList.add(\"stat-name\");\n    viewsTitle.textContent = \"Views\"\n\n    const viewsNum = document.createElement('span')\n    viewsNum.classList.add(\"stat-amount\")\n    viewsNum.textContent = views\n\n        const commentsBox = document.createElement('div');\n    commentsBox.classList.add(\"stat-box\");\n\n    const commentsTitle = document.createElement('span');\n    commentsTitle.classList.add(\"stat-name\");\n    commentsTitle.textContent = \"Comments\"\n\n    const commentsNum = document.createElement('span')\n    commentsNum.classList.add(\"stat-amount\")\n    commentsNum.textContent = comments\n\n        const downloadsBox = document.createElement('div');\n    downloadsBox.classList.add(\"stat-box\");\n\n    const downloadsTitle = document.createElement('span');\n    downloadsTitle.classList.add(\"stat-name\");\n    downloadsTitle.textContent = \"Downloads\"\n\n    const downloadsNum = document.createElement('span')\n    downloadsNum.classList.add(\"stat-amount\")\n    downloadsNum.textContent = downloads\n  \n    likesBox.append(likesTitle, likesNum); \n    statsBox.appendChild(likesBox);\n\n    viewsBox.append(viewsTitle, viewsNum); \n    statsBox.appendChild(viewsBox);\n\n    commentsBox.append(commentsTitle, commentsNum); \n    statsBox.appendChild(commentsBox);\n\n    downloadsBox.append(downloadsTitle, downloadsNum); \n    statsBox.appendChild(downloadsBox);\n\n\n    link.appendChild(img);\n    li.append(link, statsBox);\n\n    return li;\n};\n\nconst renderGallery = (images) => {\n  const items = images.map(renderImage); \n  gallery.append(...items);\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n};"],"names":["gallery","form","loader","input","lightbox","event","userInput","userSearch","message","iziToast","trimmedInput","userSearchUrl","res","images","renderGallery","renderImage","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","li","link","img","statsBox","likesBox","likesTitle","likesNum","viewsBox","viewsTitle","viewsNum","commentsBox","commentsTitle","commentsNum","downloadsBox","downloadsTitle","downloadsNum","items","SimpleLightbox"],"mappings":"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"}